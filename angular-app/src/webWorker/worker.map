{"version":3,"sources":["webpack:///webpack/bootstrap 91fa943ed3ff7e64dff7","webpack:///./src/webWorker/soldier.ts","webpack:///./src/app/constant.ts","webpack:///./src/webWorker/context.ts","webpack:///./src/webWorker/robot.ts","webpack:///./src/webWorker/player.ts","webpack:///./src/webWorker/action.ts","webpack:///./src/base/message.ts"],"names":[],"mappings":"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","file":"worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 91fa943ed3ff7e64dff7","import { Context } from './context';\nimport { Constant } from '../app/constant';\n\nexport class Position {\n    constructor(private x:number = 0, private y:number = 0) {}\n};\n\nexport class Soldier {\n    protected id;\n    protected pos;\n    protected color = \"#000000\";\n    protected hp = 100;\n    protected alive = true;\n    protected bullet = null;\n    protected actionQuota = 1;\n    protected shooter: Soldier = null;\n\n    constructor(position:Position, color:string) {\n        this.id = Context.getContext().nextSoldierId++;\n        this.pos = position;\n        this.color = color;\n    }\n\n    public refresh() {\n        this.bullet = null;\n        this.shooter = null;\n        this.actionQuota = 1;\n        this.alive = (this.hp > 0);\n    }\n\n    public getHp() {\n        return this.hp;\n    }\n\n    // Probe a position relative to self, e.g (1, 1), (-1, -1)\n    // Return the soldier in the probed position if any\n    public probePosition(relativeX:number, relativeY:number): Soldier {\n        if (Math.abs(relativeX) > Constant.SIGHT_RANGE_UNIT || \n            Math.abs(relativeY) > Constant.SIGHT_RANGE_UNIT) {\n            return null;\n        }\n        let x = this.pos.x + relativeX;\n        let y = this.pos.y + relativeY;\n        x = Math.max(x, 0);\n        x = Math.min(x, Constant.MAP_WIDTH_UNIT-1);\n        y = Math.max(y, 0);\n        y = Math.min(y, Constant.MAP_HEIGHT_UNIT-1);\n        let soldier = Context.getContext().map[x][y];\n        if (soldier != null && soldier.alive) {\n            return soldier;\n        } else {\n            return null;\n        }\n    }\n\n    private distWithSoldier(soldier:Soldier) {\n        return Math.sqrt(\n            Math.pow(this.pos.x-soldier.pos.x, 2) +\n            Math.pow(this.pos.y-soldier.pos.y, 2)\n        );\n    }\n\n    private shootableBy(shooter:Soldier) {\n        if (!shooter.alive || shooter.bullet == null) {\n            return false;\n        }\n        let x = this.pos.x;\n        let y = this.pos.y;\n        let xShooter = shooter.pos.x;\n        let yShooter = shooter.pos.y;\n        let xBullet = shooter.bullet.x;\n        let yBullet = shooter.bullet.y;\n        if (xBullet == 0) {\n            return x == xShooter;\n        }\n        let kBullut = yBullet/(xBullet+0.0);\n        let dist = Math.abs(kBullut*x - y + yShooter - kBullut*xShooter) / Math.sqrt(Math.pow(kBullut, 2) + 1);\n        return dist <= Constant.UNIT_SIZE/2.0;\n    }\n\n    private shotBy(shooter:Soldier, distance:number) {\n        let harm = Math.max(1 - distance/Constant.SHOOT_RANGE_UNIT, 0);\n        this.hp -= harm;\n        this.shooter = shooter;\n    }\n\n    public moveUp() {\n        if (this.actionQuota < 1) {\n            return;\n        }\n        let y = Math.max(this.pos.y-1, 0);\n        if (Context.getContext().map[this.pos.x][y] == null) {\n            this.pos.y = y;\n        }\n        this.actionQuota--;\n    };\n\n    public moveDown() {\n        if (this.actionQuota < 1) {\n            return;\n        }\n        let y = Math.min(this.pos.y+1, Constant.MAP_HEIGHT_UNIT-1);\n        if (Context.getContext().map[this.pos.x][y] == null) {\n            this.pos.y = y;\n        }\n        this.actionQuota--;\n    };\n\n    public moveLeft() {\n        if (this.actionQuota < 1) {\n            return;\n        }\n        let x = Math.max(this.pos.x-1, 0);\n        if (Context.getContext().map[x][this.pos.y] == null) {\n            this.pos.x = x;\n        }\n        this.actionQuota--;\n    };\n\n    public moveRight() {\n        if (this.actionQuota < 1) {\n            return;\n        }\n        let x = Math.min(this.pos.x+1, Constant.MAP_WIDTH_UNIT-1);\n        if (Context.getContext().map[x][this.pos.y] == null) {\n            this.pos.x = x;\n        }\n        this.actionQuota--;\n    };\n\n    public shoot(x:number, y:number) {\n        if (this.actionQuota < 1) {\n            return;\n        }\n        this.bullet = new Position(x, y);\n        this.actionQuota--;\n    };\n\n    public nextAction() {\n        // to be implemented\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/webWorker/soldier.ts","export class Constant {\n    public static UNIT_SIZE = 3; // px\n    public static MAP_WIDTH_UNIT = 200;\n    public static MAP_HEIGHT_UNIT = 200;\n    public static SOLDIER_NUM_EACH = 500;\n    public static COLOR_NUM = 2;\n    public static COLOR_LIST = [\"red\", \"blue\", \"green\", \"black\", \"purple\"];\n    public static SIGHT_RANGE_UNIT = 50; // how far can a soldier can see in sight\n    public static SHOOT_RANGE_UNIT = 50; // how far can a bullet can shoot\n    public static GAME_TOTAL_TIME = -1; // in seconds\n\n    public static PLAYER_CODE_DEFAULT = `\n    /* 每一轮行动中，士兵最多可以消耗1个行动数，士兵可以有如下行动指令：\n    self.moveUp()\n        向上移动一个单位，该指令消耗1个行动数。\n    self.moveDown()\n        向下移动一个单位，该指令消耗1个行动数。\n    self.moveLeft()\n        向左移动一个单位，该指令消耗1个行动数。\n    self.moveRight()\n        向右移动一个单位，该指令消耗1个行动数。\n    self.shoot(relativeX, relativeY)\n        向某个相对方向开枪射击，该指令消耗1个行动数。\n    self.probePosition(relativeX, relativeY)\n        侦查某个相对位置，如果该位置有士兵，则返回该士兵对象，否则返回null。该指令消耗0个行动数。\n    */\n    let i = Math.floor(Math.random() * 5);\n    switch(i) {\n        case 0:\n            self.moveUp();\n            break;\n        case 1:\n            self.moveDown();\n            break;\n        case 2:\n            self.moveLeft();\n            break;\n        case 3:\n            self.moveRight();\n            break;\n        case 4:\n            let x = Math.random();\n            let y = Math.random();\n            self.shoot(x, y);\n            break;\n    }\n    `;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/constant.ts","export class Context {\n    private static singleton = null;\n\n    constructor(\n        public gameRunning = false,\n        public gameTerminated = false,\n        public distMatrix = null,\n        public map = null,\n        public dictSoldierNum = {},\n        public youWin = null,\n        public soldierList = null,\n        public nextSoldierId = 0\n    ) {}\n\n    public static newContext(): Context {\n        Context.singleton = new Context();\n        return Context.singleton;\n    }\n\n    public static getContext(): Context {\n        return Context.singleton;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/webWorker/context.ts","import { Constant } from '../app/constant';\nimport { Position, Soldier } from './soldier';\n\nexport class Robot extends Soldier {\n    constructor(position:Position, color:string) {\n        super(position, color);\n    }\n\n    private randomAction() {\n        let i = Math.floor(Math.random() * 4);\n        switch(i) {\n            case 0:\n                this.moveUp();\n                break;\n            case 1:\n                this.moveDown();\n                break;\n            case 2:\n                this.moveLeft();\n                break;\n            case 3:\n                this.moveRight();\n                break;\n        }\n    }\n\n    private moveToward(soldier) {\n        let xDelta = soldier.pos.x - this.pos.x;\n        let yDelta = soldier.pos.y - this.pos.y;\n        if (Math.abs(xDelta) > Math.abs(yDelta)) {\n            xDelta > 0? this.moveRight() : this.moveLeft();\n        } else {\n            yDelta > 0? this.moveDown() : this.moveUp();\n        }\n    }\n\n    private shootToward(soldier) {\n        let xDelta = soldier.pos.x - this.pos.x;\n        let yDelta = soldier.pos.y - this.pos.y;\n        this.shoot(xDelta, yDelta);\n    }\n\n    private hasFriendNearby(xRelative, yRelative) {\n        let soldier = null;\n        soldier = this.probePosition(xRelative, yRelative-1);\n        if (soldier != null && soldier.color == this.color) {\n            return true;\n        }\n        soldier = this.probePosition(xRelative, yRelative+1);\n        if (soldier != null && soldier.color == this.color) {\n            return true;\n        }\n        soldier = this.probePosition(xRelative+1, yRelative);\n        if (soldier != null && soldier.color == this.color) {\n            return true;\n        }\n        soldier = this.probePosition(xRelative+1, yRelative+1);\n        if (soldier != null && soldier.color == this.color) {\n            return true;\n        }\n        soldier = this.probePosition(xRelative+1, yRelative-1);\n        if (soldier != null && soldier.color == this.color) {\n            return true;\n        }\n        soldier = this.probePosition(xRelative-1, yRelative+1);\n        if (soldier != null && soldier.color == this.color) {\n            return true;\n        }\n        soldier = this.probePosition(xRelative-1, yRelative+1);\n        if (soldier != null && soldier.color == this.color) {\n            return true;\n        }\n        soldier = this.probePosition(xRelative-1, yRelative);\n        if (soldier != null && soldier.color == this.color) {\n            return true;\n        }\n        return false;\n    }\n\n    private shootNearestEnemy() {\n        let nearestFriend = null;\n        let nearestEnemy = null;\n        for (let dist = 1; dist < Constant.SIGHT_RANGE_UNIT; dist++) {\n            for (let i = -dist; i <= dist; i++) {\n                let soldier = null;\n                soldier = this.probePosition(dist, i);\n                if (soldier != null) {\n                    if (soldier.color == this.color) {\n                        if (nearestFriend == null) {\n                            nearestFriend = soldier;\n                        }\n                    } else {\n                        if (nearestEnemy == null && !this.hasFriendNearby(dist, i)) {\n                            nearestEnemy = soldier;\n                            break;\n                        }\n                    }\n                }\n                soldier = this.probePosition(-dist, i);\n                if (soldier != null) {\n                    if (soldier.color == this.color) {\n                        if (nearestFriend == null) {\n                            nearestFriend = soldier;\n                        }\n                    } else {\n                        if (nearestEnemy == null && !this.hasFriendNearby(-dist, i)) {\n                            nearestEnemy = soldier;\n                            break;\n                        }\n                    }\n                }\n                soldier = this.probePosition(i, dist);\n                if (soldier != null) {\n                    if (soldier.color == this.color) {\n                        if (nearestFriend == null) {\n                            nearestFriend = soldier;\n                        }\n                    } else {\n                        if (nearestEnemy == null && !this.hasFriendNearby(i, dist)) {\n                            nearestEnemy = soldier;\n                            break;\n                        }\n                    }\n                }\n                soldier = this.probePosition(i, -dist);\n                if (soldier != null) {\n                    if (soldier.color == this.color) {\n                        if (nearestFriend == null) {\n                            nearestFriend = soldier;\n                        }\n                    } else {\n                        if (nearestEnemy == null && !this.hasFriendNearby(i, -dist)) {\n                            nearestEnemy = soldier;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (nearestEnemy != null) {\n                break;\n            }\n        }\n        if (nearestEnemy != null) {\n            if (Math.random() < 0.5) {\n                this.moveToward(nearestEnemy);\n            } else {\n                this.shootToward(nearestEnemy);\n            }\n            return;\n        }\n        if (nearestFriend != null) {\n            this.moveToward(nearestFriend);\n            return;\n        }\n        this.randomAction();\n    }\n\n    public nextAction() {\n        this.shootNearestEnemy();\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/webWorker/robot.ts","import { Constant } from '../app/constant';\nimport { Position, Soldier } from './soldier';\n\nexport class Player extends Soldier {\n    constructor(position:Position, color:string) {\n        super(position, color);\n    }\n\n    public static resetPlayer(playerCode:string) {\n        Constant.PLAYER_CODE_DEFAULT; // We should keep this here, otherwise \"constant_1\" cannot be found\n        let finalCode = playerCode.replace(new RegExp(\"Constant\\.\", 'g'), \"constant_1.Constant.\");\n        finalCode = \"Player.prototype.playerFunc = function(self) {\" + finalCode + \"}\";\n        eval(finalCode);\n    }\n\n    public nextAction() {\n        Player.prototype[\"playerFunc\"](this);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/webWorker/player.ts","import { Context } from './context';\nimport { Position, Soldier } from './soldier';\nimport { Player } from './player';\nimport { Robot } from './robot';\nimport { Constant } from '../app/constant';\nimport { Message, MessageType } from '../base/message';\n\nonmessage = (e: MessageEvent) => {\n    let message = e.data;\n    switch (parseInt(message.type)) {\n        case MessageType.ASK_START:\n            Context.getContext().gameRunning = true;\n            start();\n            break;\n        case MessageType.ASK_STOP:\n            Context.getContext().gameRunning = false;\n            break;\n        case MessageType.ASK_RESET:\n            Player.resetPlayer(message.param.get(\"playerCode\"));\n            Context.newContext();\n            initMap();\n            initSoldierRand();\n            initSoldierNumDict();\n            initDistMatrix();\n            postMessageType(MessageType.ANSWER_RUNNING);\n            break;\n        case MessageType.ASK_TERMINATE:\n            Context.getContext().gameTerminated = true;\n            break;\n        default:\n            break;\n    }    \n};\n\nlet initMap = function() {\n    Context.getContext().map = new Array(Constant.MAP_WIDTH_UNIT);\n    for (let i = 0; i < Constant.MAP_WIDTH_UNIT; i++) {\n        Context.getContext().map[i] = new Array(Constant.MAP_HEIGHT_UNIT);\n    }\n    resetMap();\n    Context.getContext().youWin = null;\n    return Context.getContext().map;\n}\n\nlet resetMap = function() {\n    for (let i = 0; i < Constant.MAP_WIDTH_UNIT; i++) {\n        for (let j = 0; j < Constant.MAP_HEIGHT_UNIT; j++) {\n            Context.getContext().map[i][j] = null;\n        }\n    }\n}\n\nlet initSoldierRand = function() {\n    Context.getContext().soldierList = new Array();\n    for (let i = 0; i < Constant.COLOR_NUM; i++) {\n        let color = Constant.COLOR_LIST[i];\n        for (let j = 0; j < Constant.SOLDIER_NUM_EACH; j++) {\n            let x = Math.floor(Math.random() * Constant.MAP_WIDTH_UNIT);\n            let y = Math.floor(Math.random() * Constant.MAP_HEIGHT_UNIT);\n            let position = new Position(x, y);\n            let soldier = null;\n            if (i == 0) {\n                // init players\n                soldier = new Player(position, color);\n            } else {\n                // init robots\n                soldier = new Robot(position, color);\n            }\n            Context.getContext().soldierList.push(soldier);\n        }\n    }\n    return Context.getContext().soldierList;\n}\n\nlet initSoldierNumDict = function() {\n    for (let i = 0; i < Constant.COLOR_NUM; i++) {\n        let color = Constant.COLOR_LIST[i];\n        Context.getContext().dictSoldierNum[color] = Constant.SOLDIER_NUM_EACH;\n    }\n}\n\nlet initDistMatrix = function() {\n    Context.getContext().distMatrix = new Array(Context.getContext().soldierList.length);\n    for (let i = 0; i < Context.getContext().soldierList.length; i++) {\n        Context.getContext().distMatrix[i] = new Array(Context.getContext().soldierList.length);\n    }\n    return Context.getContext().distMatrix;\n}\n\nlet updateDistMatrix = function() {\n    for (let i = 0; i < Context.getContext().soldierList.length; i++) {\n        let soldier1 = Context.getContext().soldierList[i];\n        if (!soldier1.alive) {\n            continue;\n        }\n        Context.getContext().map[soldier1.pos.x][soldier1.pos.y] = soldier1;\n        for (let j = i+1; j < Context.getContext().soldierList.length; j++) {\n            let soldier2 = Context.getContext().soldierList[j];\n            if (!soldier2.alive) {\n                continue;\n            }\n            let dist = soldier1.distWithSoldier(soldier2);\n            Context.getContext().distMatrix[soldier1.id][soldier2.id] = dist;\n            Context.getContext().distMatrix[soldier2.id][soldier1.id] = dist;\n        }\n    }\n}\n\nlet updateHealth = function() {\n    let deadSet = new Set(); // Everybody only dies once\n    for (let i = 0; i < Context.getContext().soldierList.length; i++) {\n        let soldier1 = Context.getContext().soldierList[i];\n        if (!soldier1.alive || soldier1.bullet == null) {\n            continue;\n        }\n        let minDistFromVictimCandi = Number.MAX_SAFE_INTEGER;\n        let victimFinal = null;\n        for (let j = 0; j < Context.getContext().soldierList.length; j++) {\n            if (j == i) {\n                continue; // skip self\n            }\n            let soldier2 = Context.getContext().soldierList[j];\n            if (!soldier2.alive) {\n                continue;\n            }\n            let dist = Context.getContext().distMatrix[soldier1.id][soldier2.id];\n            if (dist < minDistFromVictimCandi &&\n                dist <= Constant.SHOOT_RANGE_UNIT &&\n                soldier2.shootableBy(soldier1)) {\n                minDistFromVictimCandi = dist;\n                victimFinal = soldier2;\n            }\n        }\n        if (victimFinal != null) {\n            victimFinal.shotBy(soldier1, minDistFromVictimCandi);\n            if (!deadSet.has(victimFinal.id) && victimFinal.hp <= 0) {\n                deadSet.add(victimFinal.id);\n                Context.getContext().dictSoldierNum[victimFinal.color]--;\n            }\n        }\n    }\n}\n\nlet checkWinner = function() {\n    let end = false;\n    for (let color in Context.getContext().dictSoldierNum) {\n        if (Context.getContext().dictSoldierNum[color] <= 0) {\n            end = true;\n        }\n    }\n    if (Context.getContext().gameTerminated) {\n        end = true;\n    }\n    if (end) {\n        Context.getContext().youWin = Context.getContext().dictSoldierNum[Constant.COLOR_LIST[0]]>Context.getContext().dictSoldierNum[Constant.COLOR_LIST[1]];\n        Context.getContext().gameRunning = false;\n        postMessageType(MessageType.ANSWER_GAME_OVER);\n    }\n}\n\nlet run = function() {\n    if (Context.getContext().gameRunning) {\n        for (let i in Context.getContext().soldierList) {\n            let soldier = Context.getContext().soldierList[i];\n            soldier.refresh();\n            if (soldier.alive) {\n                try {\n                    soldier.nextAction();\n                } catch(e) {\n                    console.log(\"Error: \" + e);\n                    Context.getContext().gameRunning = false;\n                    return;\n                }\n            }\n        }\n        checkWinner();\n        resetMap();\n        updateDistMatrix();\n        updateHealth();\n        postMessageType(MessageType.ANSWER_RUNNING);\n        setTimeout(run, 1);\n    }\n}\n\nlet postMessageType = function(messageType: MessageType) {\n    let param = new Map<String, any>();\n    param.set(\"soldierList\", Context.getContext().soldierList);\n    param.set(\"dictSoldierNum\", Context.getContext().dictSoldierNum);\n    param.set(\"youWin\", Context.getContext().youWin);\n    param.set(\"gameRunning\", Context.getContext().gameRunning);\n    let message = new Message(messageType, param);\n    postMessage.apply(null, [message]);\n}\n\nlet start = function() {\n    run();\n}\n\n\n// WEBPACK FOOTER //\n// ./src/webWorker/action.ts","export enum MessageType {\n    ASK_START = 0,\n    ASK_STOP = 1,\n    ASK_RESET = 2,\n    ASK_TERMINATE = 3,\n    ANSWER_RUNNING = 100,\n    ANSWER_GAME_OVER = 101,\n}\n\nexport class Message {\n    constructor(private type: MessageType, private param: Map<String, any>) {}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/base/message.ts"],"sourceRoot":""}